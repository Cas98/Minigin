#include "pch.h"
#include "Level1.h"
#include "GameObject.h"
#include "TextureComponent.h"
#include "InputComponent.h"
#include "BlockScript.h"
#include "LevelLoaderScript.h"
#include "Time.h"

Level1::Level1(GameMode gameMode)
	:Scene("Level1"), m_GameMode(gameMode)
{
}


Level1::~Level1()
{
}

void Level1::Initialize()
{
	std::vector<int> map;

	switch(m_GameMode)
	{
	case GameMode::Solo:
					 map = { 0,1,0,0,0,1,0,0,0,0,0,1,0,
							 0,1,0,1,1,1,0,1,1,2,0,1,0,
							 0,3,0,0,0,0,0,3,0,0,0,1,0,
							 0,1,1,1,1,1,1,1,0,1,1,1,0,
							 0,1,0,0,0,0,0,0,0,1,0,1,0,
							 0,1,0,1,1,2,1,1,1,1,0,1,0,
							 0,1,0,0,0,1,0,0,0,1,0,1,0,
							 0,1,1,1,0,3,0,1,1,1,0,3,0,
							 0,1,0,1,0,1,4,0,0,1,0,1,0,
							 0,3,0,1,0,1,0,1,1,1,0,0,0,
							 0,0,0,1,0,0,0,1,0,0,0,1,0,
							 0,1,0,1,1,1,0,1,0,1,1,1,0,
							 0,3,0,1,0,0,0,1,0,0,0,1,0,
							 0,1,0,2,0,1,1,1,3,1,0,1,0,
							 0,1,0,0,0,0,0,0,0,0,0,1,0 };
		break;
	case GameMode::Versus:
					map = { 0,1,0,0,0,1,0,0,0,0,0,1,0,
							0,1,0,1,1,1,0,1,1,2,0,1,0,
							0,3,0,0,0,0,0,3,0,0,0,1,0,
							0,1,1,1,1,1,1,1,0,1,1,1,0,
							0,1,0,0,0,0,0,0,0,1,0,1,0,
							0,1,0,1,1,2,1,1,1,1,0,1,0,
							0,1,0,0,0,1,0,0,0,1,0,1,0,
							0,1,1,1,0,3,0,1,1,1,0,5,0,
							0,1,0,1,0,1,4,0,0,1,0,1,0,
							0,3,0,1,0,1,0,1,1,1,0,0,0,
							0,0,0,1,0,0,0,1,0,0,0,1,0,
							0,1,0,1,1,1,0,1,0,1,1,1,0,
							0,3,0,1,0,0,0,1,0,0,0,1,0,
							0,1,0,2,0,1,1,1,3,1,0,1,0,
							0,1,0,0,0,0,0,0,0,0,0,1,0 };
		break;
	case GameMode::Coop:
					map = { 0,1,0,0,0,1,0,0,0,0,0,1,0,
							0,1,0,1,1,1,0,1,1,2,0,1,0,
							0,3,0,0,0,0,0,3,0,0,0,1,0,
							0,1,1,1,1,1,1,1,0,1,1,1,0,
							0,1,0,0,0,0,0,0,0,1,0,1,0,
							0,1,0,1,1,2,1,1,1,1,0,1,0,
							0,1,0,0,0,1,0,0,0,1,0,1,0,
							0,1,1,1,0,3,0,1,1,1,0,3,0,
							0,1,0,1,0,1,4,0,0,1,0,1,0,
							0,3,0,1,0,1,0,1,1,1,0,0,0,
							0,0,0,1,0,0,4,1,0,0,0,1,0,
							0,1,0,1,1,1,0,1,0,1,1,1,0,
							0,3,0,1,0,0,0,1,0,0,0,1,0,
							0,1,0,2,0,1,1,1,3,1,0,1,0,
							0,1,0,0,0,0,0,0,0,0,0,1,0 };
		break;
	}
	
	
	auto levelLoader = new dae::GameObject();
	auto script = new LevelLoaderScript();
	levelLoader->AddComponent(script);
	Add(levelLoader);
	script->Load(map);
}

void Level1::Update()
{
	
}

