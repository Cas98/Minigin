#include "pch.h"
#include "Level2.h"
#include "LevelLoaderScript.h"
#include "GameObject.h"

Level2::Level2(GameMode gameMode)
	:Scene("Level2"), m_GameMode(gameMode)
{
}


Level2::~Level2()
{
}

void Level2::Initialize()
{
	std::vector<int> map;

	switch (m_GameMode)
	{
	case GameMode::Solo:
		map = { 0,1,0,0,0,0,0,0,0,0,1,1,1,
				0,1,0,1,1,2,1,1,1,0,1,0,1,
				0,1,0,0,0,0,0,0,0,0,1,0,1,
				0,1,0,1,1,1,3,1,1,1,1,0,1,
				0,0,0,0,0,0,0,0,0,0,1,0,1,
				1,0,1,0,1,1,1,1,1,0,1,0,3,
				3,0,1,0,1,0,0,0,1,0,1,0,1,
				1,0,1,1,1,0,2,0,0,0,0,0,1,
				0,0,0,0,1,0,4,0,1,0,1,0,1,
				3,1,1,0,1,1,0,1,1,0,1,0,3,
				0,0,0,0,0,1,0,1,0,0,1,0,1,
				0,1,3,1,0,1,0,1,1,1,1,0,1,
				0,1,2,1,0,1,0,0,0,0,0,0,0,
				0,1,0,1,0,1,1,1,1,1,1,1,0,
				0,0,0,3,0,0,0,0,0,0,0,0,0 };
		break;
	case GameMode::Versus:
		map = { 0,1,0,0,0,0,0,0,0,0,1,1,1,
				0,1,0,1,1,2,1,1,1,0,1,0,1,
				0,1,0,0,0,0,0,0,0,0,1,0,1,
				0,1,0,1,1,1,3,1,1,1,1,0,1,
				0,0,0,0,0,0,0,0,0,0,1,0,1,
				1,0,1,0,1,1,1,1,1,0,1,0,5,
				3,0,1,0,1,0,0,0,1,0,1,0,1,
				1,0,1,1,1,0,2,0,0,0,0,0,1,
				0,0,0,0,1,0,4,0,1,0,1,0,1,
				3,1,1,0,1,1,0,1,1,0,1,0,3,
				0,0,0,0,0,1,0,1,0,0,1,0,1,
				0,1,3,1,0,1,0,1,1,1,1,0,1,
				0,1,2,1,0,1,0,0,0,0,0,0,0,
				0,1,0,1,0,1,1,1,1,1,1,1,0,
				0,0,0,3,0,0,0,0,0,0,0,0,0 };
		break;
	case GameMode::Coop:
		map = { 0,1,0,0,0,0,0,0,0,0,1,1,1,
				0,1,0,1,1,2,1,1,1,0,1,0,1,
				0,1,0,0,0,0,0,0,0,0,1,0,1,
				0,1,0,1,1,1,3,1,1,1,1,0,1,
				0,0,0,0,0,0,0,0,0,0,1,0,1,
				1,0,1,0,1,1,1,1,1,0,1,0,3,
				3,0,1,0,1,0,4,0,1,0,1,0,1,
				1,0,1,1,1,0,2,0,0,0,0,0,1,
				0,0,0,0,1,0,4,0,1,0,1,0,1,
				3,1,1,0,1,1,0,1,1,0,1,0,3,
				0,0,0,0,0,1,0,1,0,0,1,0,1,
				0,1,3,1,0,1,0,1,1,1,1,0,1,
				0,1,2,1,0,1,0,0,0,0,0,0,0,
				0,1,0,1,0,1,1,1,1,1,1,1,0,
				0,0,0,3,0,0,0,0,0,0,0,0,0 };
		break;
	}


	auto levelLoader = new dae::GameObject();
	auto script = new LevelLoaderScript();
	levelLoader->AddComponent(script);
	Add(levelLoader);
	script->Load(map);
}

void Level2::Update()
{

}

