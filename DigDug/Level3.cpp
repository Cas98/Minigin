#include "pch.h"
#include "Level3.h"
#include "LevelLoaderScript.h"
#include "GameObject.h"

Level3::Level3(GameMode gameMode, int playerLives, int score)
	:Scene("Level3"), m_GameMode(gameMode), m_PlayerLives(playerLives), m_Score(score)
{
}


Level3::~Level3()
{
}

void Level3::Initialize()
{
	std::vector<int> map;

	switch (m_GameMode)
	{
	case GameMode::Solo:
		map = { 0,0,0,0,1,0,0,0,1,0,0,0,0,
				0,1,1,0,1,0,1,0,1,1,1,1,0,
				0,1,2,0,1,0,3,0,0,0,0,0,0,
				0,0,1,0,0,0,1,0,1,1,1,1,0,
				1,0,1,3,1,1,1,0,1,1,1,1,0,
				0,0,1,3,0,0,0,0,0,1,1,0,0,
				0,1,1,0,0,1,1,1,0,0,0,0,1,
				0,0,1,3,1,1,2,1,1,3,1,0,0,
				1,0,0,0,0,1,1,1,0,0,1,1,0,
				0,0,1,1,0,0,0,0,0,3,1,0,0,
				0,1,1,1,1,0,1,1,3,1,1,0,1,
				0,1,1,1,1,0,1,0,0,0,1,0,0,
				0,0,0,0,0,0,1,0,1,0,2,1,0,
				0,1,1,1,1,0,1,0,1,0,1,1,0,
				0,0,0,0,1,0,0,0,1,0,0,0,4 };
		break;
	case GameMode::Versus:
		map = { 0,1,0,0,0,0,0,0,0,0,1,1,1,
				0,1,0,1,1,2,1,1,1,0,1,0,1,
				0,1,0,0,0,0,0,0,0,0,1,0,1,
				0,1,0,1,1,1,3,1,1,1,1,0,1,
				0,0,0,0,0,0,0,0,0,0,1,0,1,
				1,0,1,0,1,1,1,1,1,0,1,0,5,
				3,0,1,0,1,0,0,0,1,0,1,0,1,
				1,0,1,1,1,0,2,0,0,0,0,0,1,
				0,0,0,0,1,0,4,0,1,0,1,0,1,
				3,1,1,0,1,1,0,1,1,0,1,0,3,
				0,0,0,0,0,1,0,1,0,0,1,0,1,
				0,1,3,1,0,1,0,1,1,1,1,0,1,
				0,1,2,1,0,1,0,0,0,0,0,0,0,
				0,1,0,1,0,1,1,1,1,1,1,1,0,
				0,0,0,3,0,0,0,0,0,0,0,0,0 };
		break;
	case GameMode::Coop:
		map = { 0,1,0,0,0,0,0,0,0,0,1,1,1,
				0,1,0,1,1,2,1,1,1,0,1,0,1,
				0,1,0,0,0,0,0,0,0,0,1,0,1,
				0,1,0,1,1,1,3,1,1,1,1,0,1,
				0,0,0,0,0,0,0,0,0,0,1,0,1,
				1,0,1,0,1,1,1,1,1,0,1,0,3,
				3,0,1,0,1,0,4,0,1,0,1,0,1,
				1,0,1,1,1,0,2,0,0,0,0,0,1,
				0,0,0,0,1,0,4,0,1,0,1,0,1,
				3,1,1,0,1,1,0,1,1,0,1,0,3,
				0,0,0,0,0,1,0,1,0,0,1,0,1,
				0,1,3,1,0,1,0,1,1,1,1,0,1,
				0,1,2,1,0,1,0,0,0,0,0,0,0,
				0,1,0,1,0,1,1,1,1,1,1,1,0,
				0,0,0,3,0,0,0,0,0,0,0,0,0 };
		break;
	}


	auto levelLoader = new dae::GameObject();
	auto script = new LevelLoaderScript(0, m_GameMode, m_PlayerLives, m_Score);
	levelLoader->AddComponent(script);
	Add(levelLoader);
	script->Load(map);
}

void Level3::Update()
{

}

